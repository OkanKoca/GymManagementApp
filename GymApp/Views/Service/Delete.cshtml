@model GymApp.Models.Service
@{
    ViewData["Title"] = "Hizmet Sil";
 var appointmentCount = (int)(ViewBag.AppointmentCount ?? 0);
    var trainerServiceCount = (int)(ViewBag.TrainerServiceCount ?? 0);
    var gymServiceCount = (int)(ViewBag.GymServiceCount ?? 0);
    var hasRelatedData = (bool)(ViewBag.HasRelatedData ?? false);
}

<div class="row justify-content-center">
    <div class="col-md-6">
  <div class="card border-danger">
   <div class="card-header bg-danger text-white">
    <h5 class="mb-0"><i class="bi bi-exclamation-triangle me-2"></i>Silme Onayý</h5>
         </div>
       <div class="card-body">
   <p>Aþaðýdaki hizmeti silmek istediðinize emin misiniz?</p>
          <hr />
     <dl class="row">
  <dt class="col-sm-4">Hizmet Adý</dt>
       <dd class="col-sm-8">@Model.Name</dd>
           <dt class="col-sm-4">Hizmet Türü</dt>
              <dd class="col-sm-8">@Model.ServiceType</dd>
          <dt class="col-sm-4">Süre</dt>
 <dd class="col-sm-8">@Model.DurationMinutes dakika</dd>
  <dt class="col-sm-4">Fiyat</dt>
      <dd class="col-sm-8">@Model.Price.ToString("C", new System.Globalization.CultureInfo("tr-TR"))</dd>
    </dl>

      @if (hasRelatedData)
                {
      <div class="alert alert-danger">
      <h6><i class="bi bi-exclamation-octagon me-2"></i>Dikkat! Ýliþkili Veriler Bulundu</h6>
  <p class="mb-2">Bu hizmeti sildiðinizde aþaðýdaki veriler de <strong>kalýcý olarak silinecektir</strong>:</p>
   <ul class="mb-0">
   @if (appointmentCount > 0)
      {
<li><strong>@appointmentCount adet randevu</strong> silinecek</li>
   }
         @if (trainerServiceCount > 0)
        {
  <li><strong>@trainerServiceCount eðitmen</strong> bu hizmeti artýk sunamayacak</li>
  }
 @if (gymServiceCount > 0)
   {
   <li><strong>@gymServiceCount salon</strong> ile iliþki kaldýrýlacak</li>
    }
          </ul>
   </div>
             }
        else
        {
<div class="alert alert-warning">
 <i class="bi bi-info-circle me-2"></i>Bu iþlem geri alýnamaz!
             </div>
                }
      </div>
   <div class="card-footer">
    <form asp-action="Delete" method="post">
<input type="hidden" asp-for="Id" />
    @if (hasRelatedData)
          {
        <input type="hidden" name="confirmCascade" value="true" />
      <button type="submit" class="btn btn-danger" onclick="return confirm('Bu iþlem @appointmentCount randevuyu da silecektir. Devam etmek istediðinize emin misiniz?')">
          <i class="bi bi-trash me-1"></i> Evet, Tümünü Sil
       </button>
   }
                else
                {
<button type="submit" class="btn btn-danger">
     <i class="bi bi-trash me-1"></i> Evet, Sil
    </button>
      }
    <a asp-action="Index" class="btn btn-secondary">
     <i class="bi bi-x-circle me-1"></i> Ýptal
 </a>
   </form>
       </div>
        </div>
    </div>
</div>
